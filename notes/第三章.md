# 第三章

#### 存储器的基本概念

**存储器的层次化结构**

<img title="" src="file:///C:/Users/jia'le/AppData/Roaming/marktext/images/2024-07-22-20-17-51-image.png" alt="" data-align="center" width="568">

**存储器分类**（按存取方式

1. 随机存取存储器（RAM）：读写任何一个单元所需时间相同，与存储单元所在的物理位置无关。例如内存条

2. 顺序存取存储器（SAM）：读写一个单元所需时间取决于它的物理位置。例如磁带

3. 直接存取存储器（DAM）：既有随机存取特性，也有顺序存取特性。例如磁盘

4. 相联存储器：可以按内容检索到存储位置的存储器。例如快表

2和3统称串行访问存储器

**存储器的性能指标**

1. 存储容量：存储字数x字长

2. 单位成本：每位价格

3. 存储速度 ：数据传输率=数据的宽度/存储周期

存储周期T = 存取时间r + 恢复时间

---

**存储矩阵**

将存储单元（8bit）二维排列，变成矩阵的样子，大大减少了地址线数量，从$2^n$根减少到$\sqrt{2^n}$根，地址也分为行地址与列地址。

DRAM存储器由于容量更大（地址多），采用了地址引脚复用技术，芯片外的地址引脚减少一半，送行列地址需要分两次

**双端口RAM**

支持两个CPU同时访问RAM，但能够同时对同一个存储单元进行的操作只有“读”，譬如一读一写是不行的。（类似操作系统中的读者写者

**多模块存储器**

1. 单体多字存储器：每次并行读出m个连续的字（类似位扩展），总线宽度也要扩展为m

2. 多体并行存储器
   
   - <mark>低位交叉编址</mark>（内存双通道）：地址的低位为 模块号，高位为 模块内地址号，这样使得连续存取时不会访问到同一模块（给恢复留足时间），只要模块数$m\ge T/r$，就能实现流水运行
   
   - 高位交叉编址：只是扩容没啥用，纯欻欻

**存储器扩容**

- 字扩展：多个芯片“串联”，是对CPU地址总线的充分利用，通过译码器译码选择存储芯片

- 位扩展：多个芯片“并联”，是对CPU数据总线的充分利用，多个芯片将地址线共用，从而实现多个存储单元响应一个地址信号，并将数据汇总到数据总线

- 字位同时扩展：结合上述两种方法

补充：复习下74LS138译码器（数电也来掺一脚）

#### 磁盘（机械硬盘

平均存取时间 = 寻道时间 + 旋转延迟时间 + 传输时间

<img title="" src="file:///C:/Users/jia'le/AppData/Roaming/marktext/images/2024-07-24-19-58-49-image.png" alt="" data-align="center" width="469">

**RAID（廉价冗余磁盘阵列**

将多个独立的物理磁盘组成一个独立的逻辑盘

| RAID 0 | 无冗余、无校验    |
| ------ | ---------- |
| RAID 1 | 镜像磁盘阵列     |
| RAID 2 | 采用海明码的磁盘阵列 |

**固态硬盘SSD**

新内容

#### Cache

**局部性原理**

- 空间局部性：在最近的未来要用到的信息，很可能与现在正在使用的信息再空间上是邻近的

- 时间局部性：循环导致的 在最近的未来要用到的信息很可能是现在正在使用的信息

把可能用到的数据放到Cache中可以大幅降低程序执行时间

**Cache命中率**

设命中率H，$t_c、t_m分别为访问一次Cache和主存的时间$，访问方式为先在Cache中找信息，找不到再去访问主存

则平均访问时间 $t=Ht_c +(1-H)(t_c+t_m)$

若同时访问Cache和主存，$t=Ht_c +(1-H)t_m$
